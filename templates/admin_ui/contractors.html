{% extends 'admin_ui/base.html' %}

{% block title %}Contractors - Fixly{% endblock %}

{% block content %}
<h1 class="page-title">Contractors</h1>
<p class="page-subtitle">Liste des entrepreneurs</p>

<div class="card">
    <div class="table-responsive">
        <table class="table mb-0">
            <thead>
                <tr>
                    <th>Entreprise</th>
                    <th>Contact</th>
                    <th>Email</th>
                    <th>Téléphone</th>
                    <th>Spécialités</th>
                    <th>Tickets actifs</th>
                    <th>Statut</th>
                </tr>
            </thead>
            <tbody>
                {% for c in contractors %}
                <tr>
                    <td class="fw-bold">{{ c.company_name }}</td>
                    <td>{{ c.contact_name|default:"-" }}</td>
                    <td><a href="mailto:{{ c.email }}">{{ c.email }}</a></td>
                    <td>{{ c.phone }}</td>
                    <td><span class="badge bg-info">{{ c.specialties|default:"Général" }}</span></td>
                    <td><span class="badge bg-warning text-dark">{{ c.active_tickets }}</span></td>
                    <td>
                        {% if c.is_active %}
                        <span class="badge bg-success">Actif</span>
                        {% else %}
                        <span class="badge bg-secondary">Inactif</span>
                        {% endif %}
                    </td>
                </tr>
                {% empty %}
                <tr><td colspan="7" class="text-center py-4 text-muted">Aucun contractor</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
